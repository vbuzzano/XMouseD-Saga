; ~ XMouseD [PROGRAM_NAME]~ Installer Script
; $VER: ~ XMouseD [PROGRAM_EXE_NAME]~ ~ 1.0 [PROGRAM_VERSION]~ (~ 2025-12-17 [PROGRAM_DATE]~)

(complete 0)
(set @app-name "~ XMouseD [PROGRAM_NAME]~")
(set @default-dest "C:")

(complete 3)
; Welcome message
(welcome "Welcome to the ~ XMouseD [PROGRAM_NAME]~ installer. This installer will guide you through the required steps to install the daemon drivers.")

(complete 6)
; ========================================
; Step 1: Select destination for executable
; ========================================

(set #dest-cmd
  (askdir
    (prompt "Where do you want to install the ~ XMouseD [PROGRAM_EXE_NAME]~ executable?\n(usually your C: command directory)")
    (help @askdir-help)
    (default "C:")
  )
)

(complete 15)
; ========================================
; Step 2: Copy executable
; ========================================

(copyfiles
  (prompt "Copying ~ XMouseD [PROGRAM_EXE_NAME]~ executable...")
  (help @copyfiles-help)
  (protect "~ XMouseD [PROGRAM_EXE_NAME]~" "+e")
  (confirm "expert")
  (source "~ XMouseD [PROGRAM_EXE_NAME]~")
  (dest #dest-cmd)
  (choices "~ XMouseD [PROGRAM_EXE_NAME]~")
  (infos)
)

(complete 40)
; ========================================
; Step 3: Select destination for guide
; ========================================

(set #dest-help
  (askdir
    (prompt "Where should the ~ XMouseD [PROGRAM_NAME]~.guide documentation be installed?\n(usually Help: or HELP:)")
    (help @askdir-help)
    (default "HELP:")
  )
)

(complete 55)
; ========================================
; Step 4: Copy guide
; ========================================

(copyfiles
  (prompt "Copying ~ XMouseD [PROGRAM_NAME]~.guide documentation...")
  (help @copyfiles-help)
  (confirm "expert")
  (source "~ XMouseD [PROGRAM_NAME]~.guide")
  (dest #dest-help)
  (choices "~ XMouseD [PROGRAM_NAME]~.guide")
  (infos)
)

(complete 80)
; ========================================
; Step 5: Optional User-Startup configuration
; ========================================

(set #startup-add
  (askchoice
    (prompt "Add ~ XMouseD [PROGRAM_EXE_NAME]~ to your User-Startup script?\n\nThis will make the daemon start automatically every time your Amiga boots, with default configuration.\n\nYou can edit User-Startup later to change the configuration.")
    (help @askchoice-help)
    (choices
      "Yes - Add to User-Startup"
      "No - I'll start it manually"
    )
    (default 0)
  )
)

; If user wants to add to startup
(if (= #startup-add 0)
(

(complete 90)

(startup "~ XMouseD [PROGRAM_EXE_NAME]~"
  (prompt "Adding ~ XMouseD [PROGRAM_EXE_NAME]~ to User-Startup...")
  (help @startup-help)
  (command "C:~ XMouseD [PROGRAM_EXE_NAME]~ >NIL:\n")
)

)
) ; End if startup-add

; ========================================
; Installation complete
; ========================================
(complete 100)
; youpi ^^
(exit "Installation Complete!\n~ XMouseD [PROGRAM_NAME]~, ~ SAGA eXtended Mouse Driver [PROGRAM_DESC_SHORT]~ has been successfully installed.")
